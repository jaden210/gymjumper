<mat-tab-group color="accent" id="tabs" [selectedIndex]="selectedTab" (selectedTabChange)="tabChanged($event)">
  <mat-tab label="Account"> 
    <div class="column">
      <div class="image-cont">
        <div class="image-circle"><mat-progress-bar style="position: absolute;bottom: 0px;" *ngIf="loading" mode="indeterminate"></mat-progress-bar><img class="img" src={{accountService.user?.profileUrl}} onerror="src = '/assets/face.png'" alt="Gym Jumper"></div>
        <div style="height: 0px; width: 0px; overflow:hidden"><input type="file" id="upProfileUrl" accept=".png,.jpg,.mp4" #uploadT (change)="uploadProfileImage($event)"></div>
        <button mat-stroked-button class="image-button" color="primary" (click)="upload(true)">CHANGE PICTURE</button>
      </div>
      <button mat-stroked-button class="image-button" color="primary" (click)="accountService.logout()">LOGOUT</button>
      <button mat-stroked-button class="image-button" color="primary" *ngIf="accountService.user.isDev" routerLink="/account/support">SUPPORT</button>
      <mat-form-field>
        <input matInput color="primary" placeholder="profile name" [(ngModel)]="accountService.user.name" (change)="saveProfile()">
      </mat-form-field>
      <mat-form-field>
        <input matInput color="primary" readonly placeholder="email" [(ngModel)]="accountService.user.email" (change)="saveProfile()">
      </mat-form-field>
      <mat-form-field>
        <input matInput color="primary" placeholder="phone" type="tel" [(ngModel)]="accountService.user.phone" (change)="saveProfile()">
      </mat-form-field>
      <button mat-button id="delete-account" color="warn" (click)="deleteAccount()"><mat-icon>delete</mat-icon> DELETE ACCOUNT</button>
    </div>
  </mat-tab>
  <mat-tab label="History"> 
    <mat-list>
      <mat-list-item *ngFor="let visit of accountService?.visits | keyvalue">
        <img matListAvatar src={{accountService?.visitedGyms[visit?.value.gymId]?.logoUrl}}>
        <h3 matLine>{{accountService?.visitedGyms[visit?.value.gymId]?.name}}</h3>
        <p matLine>
          <span> {{visit?.value.createdAt}} </span>
        </p>
      </mat-list-item>
      <div *ngIf="!accountService?.visits">No history yet... Visit a gym!</div>
    </mat-list>
  </mat-tab>
  <mat-tab label="Billing">
    <billing></billing>
  </mat-tab>
  <mat-tab label="My Gym" *ngIf="showGym">
      <div class="column">
          <div class="image-cont">
            <div class="image-circle"><mat-progress-bar style="position: absolute;bottom: 0px;" *ngIf="loading" mode="indeterminate"></mat-progress-bar><img class="img" src={{accountService.aGym?.logoUrl}} onerror="src = '/assets/face.png'" alt="Gym Jumper"></div>
            <div style="height: 0px; width: 0px; overflow:hidden"><input type="file" id="upLogoUrl" accept=".png,.jpg,.mp4" #uploadT (change)="uploadGymLogo($event)"></div>
            <button mat-stroked-button [disabled]="accountServive?.aGym?.ownerId == accountService?.user?.id" class="image-button" color="primary" (click)="upload(false)">CHANGE LOGO</button>
          </div>
          <mat-form-field>
            <input matInput color="primary" placeholder="gym name" [disabled]="accountServive?.aGym?.ownerId == accountService?.user?.id" [(ngModel)]="accountService.aGym.name" (change)="saveGym()">
          </mat-form-field>
          <mat-form-field>
            <input matInput color="primary" placeholder="email" [disabled]="accountServive?.aGym?.ownerId == accountService?.user?.id" [(ngModel)]="accountService.aGym.email" (change)="saveGym()">
          </mat-form-field>
          <mat-form-field>
            <input matInput color="primary" placeholder="phone" type="tel" [disabled]="accountServive?.aGym?.ownerId == accountService?.user?.id" [(ngModel)]="accountService.aGym.phone" (change)="saveGym()">
          </mat-form-field>
        </div>
  </mat-tab>
  <mat-tab label="Scanning Station" *ngIf="showGym">
  </mat-tab>
  </mat-tab-group>
